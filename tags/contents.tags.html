<contents>
  <div>
    <ul class="demo-list-control mdl-list">
      <li class="mdl-list__item" each="{opts.data}">
        <span class="mdl-list__item-primary-content">
          <img src="{url}" width="64" height="64">

          <span class="mdl-list__item-primary-content">
            
            <span id="hint1">{f1(name, index)}</span>
            <span id="hint2" style="display: none;">{f2(name, index)}</span>
            <span id="hint3" style="display: none;">{f3(name, index)}</span>

          </span>
      </li>
    </ul>
  </div>

  <button style="display: none;" id="button1" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"
    onclick="{hint1}">
    はじめから
  </button>
  <button id="button2" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="{hint2}">
    ヒント
  </button>
  <button style="display: none;" id="button3" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"
    onclick="{hint3}">
    答え
  </button>

  <script>
    this.f1 = function (name, index) {
      newname = ""
      for (var i = 0; i < name.length; i++) {
        if (i + 1 == index) {
          newname = newname + "？"
        } else {
          newname = newname + "■"
        }
      }
      return newname
    }
    this.f2 = function (name, index) {
      newname = ""
      for (var i = 0; i < name.length; i++) {
        if (i + 1 == index) {
          newname = newname + "？"
        } else {
          newname = newname + name.substr(i, 1)
        }
      }
      return newname
    }
    this.f3 = function (name, index) {
      newname = ""
      for (var i = 0; i < name.length; i++) {
        if (i + 1 == index) {
          newname = newname + name.substr(i, 1)
        } else {
          newname = newname + "　"
        }
      }
      return newname
    }

    this.hint0 = function () {
      this.hint("none", "none", "none")
    }
    this.hint1 = function () {
      button1.style.display = "none"
      button2.style.display = "inline"
      button3.style.display = "none"
      this.hint("inline", "none", "none")
      window.scrollTo(0,0)
    }
    this.hint2 = function () {
      button1.style.display = "none"
      button2.style.display = "none"
      button3.style.display = "inline"
      this.hint("none", "inline", "none")
      window.scrollTo(0,0)
    }
    this.hint3 = function () {
      button1.style.display = "inline"
      button2.style.display = "none"
      button3.style.display = "none"

      this.hint("none", "none", "inline")
      window.scrollTo(0,0)
    }

    this.hint = function (hint1v, hint2v, hint3v) {
      for (const item of hint1) {
        item.style.display = hint1v
      }
      for (const item of hint2) {
        item.style.display = hint2v
      }
      for (const item of hint3) {
        item.style.display = hint3v
      }
    }
  </script>
</contents>